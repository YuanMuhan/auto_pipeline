{
  "devices": [
    {
      "id": "temp_sensor_01",
      "name": "Temperature Sensor Device",
      "layer": "device",
      "type": "sensor",
      "capabilities": [
        "temperature_sensing",
        "data_collection"
      ],
      "interfaces": {
        "endpoints": [
          {
            "id": "ep_temp_pub",
            "name": "sensor_data_output",
            "type": "mqtt_pub",
            "direction": "publish",
            "topic": "sensors/temp_sensor_01/data",
            "payload_schema": {
              "type": "object",
              "properties": {
                "temperature": {
                  "type": "number"
                },
                "ts": {
                  "type": "string"
                }
              }
            },
            "address": "mqtt://broker/publish/sensors/temp_sensor_01/data",
            "description": "Temperature sensor data output"
          }
        ]
      },
      "resources": {
        "cpu": "low",
        "memory": "minimal",
        "power": "battery"
      }
    },
    {
      "id": "edge_gateway_01",
      "name": "Edge Gateway",
      "layer": "edge",
      "type": "gateway",
      "capabilities": [
        "data_processing",
        "filtering",
        "aggregation",
        "local_storage"
      ],
      "interfaces": {
        "endpoints": [
          {
            "id": "ep_edge_sub",
            "name": "sensor_data_input",
            "type": "mqtt_sub",
            "direction": "subscribe",
            "topic": "sensors/temp_sensor_01/data",
            "payload_schema": {
              "type": "object"
            },
            "address": "mqtt://broker/subscribe/sensors/temp_sensor_01/data",
            "description": "Receives data from sensors"
          },
          {
            "id": "ep_edge_to_cloud",
            "name": "processed_data_output",
            "type": "http",
            "direction": "call",
            "method": "POST",
            "address": "https://<SECRET_CLOUD_API>/ingest",
            "payload_schema": {
              "type": "object"
            },
            "description": "Sends processed data to cloud"
          }
        ]
      },
      "resources": {
        "cpu": "medium",
        "memory": "moderate",
        "power": "mains"
      }
    },
    {
      "id": "cloud_server_01",
      "name": "Cloud Analytics Server",
      "layer": "cloud",
      "type": "server",
      "capabilities": [
        "data_storage",
        "analytics",
        "visualization",
        "alerting"
      ],
      "interfaces": {
        "endpoints": [
          {
            "id": "ep_cloud_ingest",
            "name": "data_ingestion",
            "type": "http",
            "direction": "call",
            "method": "POST",
            "address": "https://<SECRET_CLOUD_API>/ingest",
            "payload_schema": {
              "type": "object"
            },
            "description": "Data ingestion endpoint"
          },
          {
            "id": "ep_cloud_api",
            "name": "api_service",
            "type": "http",
            "direction": "call",
            "method": "POST",
            "address": "https://<SECRET_CLOUD_API>/api",
            "payload_schema": {
              "type": "object"
            },
            "description": "REST API for queries"
          }
        ]
      },
      "resources": {
        "cpu": "high",
        "memory": "high",
        "storage": "scalable"
      }
    }
  ]
}