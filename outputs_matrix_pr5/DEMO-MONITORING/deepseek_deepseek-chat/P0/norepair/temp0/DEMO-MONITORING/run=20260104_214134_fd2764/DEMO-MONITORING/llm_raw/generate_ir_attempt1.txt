components:
  - id: temp_sensor_01
    type: data_source
    capabilities:
      - sense
      - collect
    metadata:
      layer: device
      data_type: temperature
  - id: edge_gateway_01
    type: processor
    capabilities:
      - filter
      - aggregate
      - local_storage
    metadata:
      layer: edge
  - id: cloud_server_01
    type: storage
    capabilities:
      - store
      - analyze
      - alert
    metadata:
      layer: cloud

links:
  - id: sensor_to_edge
    from: temp_sensor_01
    to: edge_gateway_01
    data_type: sensor_reading
    frequency: real-time
    contract:
      properties:
        temperature:
          type: number
        ts:
          type: string
  - id: edge_to_cloud
    from: edge_gateway_01
    to: cloud_server_01
    data_type: aggregated_data
    frequency: periodic
  - id: cloud_alert_flow
    from: cloud_server_01
    to: edge_gateway_01
    data_type: alert_event
    frequency: on-demand

logic:
  alert_condition: temperature_anomaly_detected
  aggregation_window: configurable_period
  alert_latency: real-time

metadata:
  description: Smart home temperature monitoring system with cloud analytics
  version: "1.0"
  problem_type: monitoring