endpoints:
- from_endpoint: ha_entity://binary_sensor.bedroom_door_contact
  link_id: link_door_to_engine
  to_endpoint: ha_entity://binary_sensor.living_room_motion
- from_endpoint: ha_entity://binary_sensor.bedroom_door_contact
  link_id: link_motion_to_engine
  to_endpoint: ha_entity://binary_sensor.living_room_motion
- from_endpoint: ha_entity://binary_sensor.bedroom_door_contact
  link_id: link_engine_to_light
  to_endpoint: ha_entity://binary_sensor.living_room_motion
- from_endpoint: ha_entity://binary_sensor.bedroom_door_contact
  link_id: link_engine_to_notify
  to_endpoint: ha_entity://binary_sensor.living_room_motion
- from_endpoint: ha_entity://binary_sensor.bedroom_door_contact
  link_id: link_engine_to_storage
  to_endpoint: ha_entity://binary_sensor.living_room_motion
placements:
- component_id: door_monitor
  device_ref: door_sensor_main
  layer: device
- component_id: motion_detector
  device_ref: edge_gateway_ha
  layer: edge
- component_id: lighting_controller
  device_ref: edge_gateway_ha
  layer: edge
- component_id: automation_engine
  device_ref: edge_gateway_ha
  layer: edge
- component_id: notification_service
  device_ref: edge_gateway_ha
  layer: edge
- component_id: data_recorder
  device_ref: cloud_automation_service
  layer: cloud
transports:
- link_id: link_door_to_engine
  protocol: MQTT
  qos: at_least_once
- link_id: link_motion_to_engine
  protocol: HTTP
  qos: best_effort
- link_id: link_engine_to_light
  protocol: HTTP
  qos: best_effort
- link_id: link_engine_to_notify
  protocol: HTTP
  qos: best_effort
- link_id: link_engine_to_storage
  protocol: HTTP
  qos: best_effort
