{
  "metadata": {
    "name": "DEMO-MONITORING",
    "version": "1.0"
  },
  "components": [
    {
      "id": "door_sensor",
      "type": "DoorContact",
      "capabilities": [
        "sense",
        "publish"
      ],
      "properties": {
        "location": "front_door"
      }
    },
    {
      "id": "motion_sensor",
      "type": "MotionSensor",
      "capabilities": [
        "sense",
        "publish"
      ],
      "properties": {
        "location": "living_room"
      }
    },
    {
      "id": "temp_sensor",
      "type": "TemperatureSensor",
      "capabilities": [
        "sense",
        "publish"
      ],
      "properties": {
        "location": "living_room"
      }
    },
    {
      "id": "light_switch",
      "type": "Light",
      "capabilities": [
        "actuate",
        "subscribe"
      ],
      "properties": {
        "location": "living_room"
      }
    },
    {
      "id": "door_lock",
      "type": "Lock",
      "capabilities": [
        "actuate",
        "subscribe"
      ],
      "properties": {
        "location": "front_door"
      }
    },
    {
      "id": "alarm_siren",
      "type": "Siren",
      "capabilities": [
        "actuate",
        "subscribe"
      ],
      "properties": {
        "location": "hallway"
      }
    },
    {
      "id": "notification_service",
      "type": "Notifier",
      "capabilities": [
        "notify",
        "subscribe"
      ],
      "properties": {
        "channel": "mobile"
      }
    },
    {
      "id": "data_logger",
      "type": "DataStore",
      "capabilities": [
        "store",
        "subscribe"
      ],
      "properties": {
        "retention": "30d"
      }
    },
    {
      "id": "schedule_manager",
      "type": "TimeScheduler",
      "capabilities": [
        "schedule",
        "publish"
      ],
      "properties": {
        "timezone": "UTC"
      }
    },
    {
      "id": "rule_processor",
      "type": "RuleEngine",
      "capabilities": [
        "process",
        "subscribe",
        "publish"
      ],
      "properties": {
        "engine": "basic"
      }
    }
  ],
  "links": [
    {
      "id": "link_001",
      "from": "door_sensor",
      "to": "rule_processor",
      "type": "event",
      "payload_schema": {
        "type": "object",
        "properties": {
          "state": {
            "type": "string"
          },
          "timestamp": {
            "type": "string"
          }
        }
      }
    },
    {
      "id": "link_002",
      "from": "motion_sensor",
      "to": "rule_processor",
      "type": "event",
      "payload_schema": {
        "type": "object",
        "properties": {
          "motion": {
            "type": "boolean"
          },
          "timestamp": {
            "type": "string"
          }
        }
      }
    },
    {
      "id": "link_003",
      "from": "temp_sensor",
      "to": "data_logger",
      "type": "data",
      "payload_schema": {
        "type": "object",
        "properties": {
          "temperature": {
            "type": "number"
          },
          "unit": {
            "type": "string"
          },
          "timestamp": {
            "type": "string"
          }
        }
      }
    },
    {
      "id": "link_004",
      "from": "rule_processor",
      "to": "light_switch",
      "type": "command",
      "payload_schema": {
        "type": "object",
        "properties": {
          "action": {
            "type": "string"
          },
          "level": {
            "type": "number"
          }
        }
      }
    },
    {
      "id": "link_005",
      "from": "rule_processor",
      "to": "door_lock",
      "type": "command",
      "payload_schema": {
        "type": "object",
        "properties": {
          "action": {
            "type": "string"
          }
        }
      }
    },
    {
      "id": "link_006",
      "from": "rule_processor",
      "to": "alarm_siren",
      "type": "command",
      "payload_schema": {
        "type": "object",
        "properties": {
          "action": {
            "type": "string"
          },
          "duration": {
            "type": "number"
          }
        }
      }
    },
    {
      "id": "link_007",
      "from": "rule_processor",
      "to": "notification_service",
      "type": "alert",
      "payload_schema": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "priority": {
            "type": "string"
          }
        }
      }
    },
    {
      "id": "link_008",
      "from": "schedule_manager",
      "to": "rule_processor",
      "type": "trigger",
      "payload_schema": {
        "type": "object",
        "properties": {
          "schedule_id": {
            "type": "string"
          },
          "action": {
            "type": "string"
          }
        }
      }
    }
  ]
}