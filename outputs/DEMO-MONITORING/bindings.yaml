app_name: monitoring_app
component_bindings: []
deployment:
  orchestrator: k8s
endpoints:
- from_endpoint: mqtt://broker/publish/sensors/temp_sensor_01/data
  link_id: sensor_to_edge
  to_endpoint: mqtt://broker/subscribe/sensors/temp_sensor_01/data
- from_endpoint: https://<SECRET_CLOUD_API>/ingest
  link_id: edge_to_cloud
  to_endpoint: https://<SECRET_CLOUD_API>/ingest
- from_endpoint: https://<SECRET_CLOUD_API>/api
  link_id: cloud_to_alert
  to_endpoint: https://<SECRET_CLOUD_API>/api
- from_endpoint: https://<SECRET_CLOUD_API>/api
  link_id: cloud_to_controller
  to_endpoint: https://<SECRET_CLOUD_API>/api
- from_endpoint: https://<SECRET_CLOUD_API>/api
  link_id: controller_to_cloud
  to_endpoint: https://<SECRET_CLOUD_API>/api
placements:
- component_id: temp_sensor_01
  device_ref: temp_sensor_01
  layer: device
- component_id: edge_gateway_01
  device_ref: edge_gateway_01
  layer: edge
- component_id: cloud_server_01
  device_ref: cloud_server_01
  layer: cloud
- component_id: alert_service
  device_ref: cloud_server_01
  layer: cloud
- component_id: monitoring_controller
  device_ref: cloud_server_01
  layer: cloud
transports:
- link_id: sensor_to_edge
  protocol: MQTT
  qos: at_least_once
- link_id: edge_to_cloud
  protocol: HTTP
  qos: best_effort
- link_id: cloud_to_alert
  protocol: HTTP
  qos: best_effort
- link_id: cloud_to_controller
  protocol: HTTP
  qos: best_effort
- link_id: controller_to_cloud
  protocol: HTTP
  qos: best_effort
version: 1.0.0
