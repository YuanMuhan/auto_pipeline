{
  "case_id": "DEMO-SMARTHOME",
  "timestamp": "2025-12-30T19:38:51.182315",
  "checks": {
    "user_problem_schema": {
      "status": "PASS",
      "message": "OK"
    },
    "device_info_schema": {
      "status": "PASS",
      "message": "OK"
    },
    "device_info_catalog": {
      "status": "PASS",
      "message": "OK"
    },
    "plan_schema": {
      "status": "PASS",
      "message": "OK"
    },
    "ir_schema": {
      "status": "PASS",
      "message": "OK"
    },
    "ir_boundary": {
      "status": "PASS",
      "message": "OK"
    },
    "ir_component_catalog": {
      "status": "PASS",
      "message": "OK"
    },
    "ir_interface": {
      "status": "PASS",
      "message": "OK"
    },
    "bindings_schema": {
      "status": "PASS",
      "message": "OK"
    },
    "coverage": {
      "status": "PASS",
      "message": "OK"
    },
    "endpoint_legality": {
      "status": "PASS",
      "message": "OK"
    },
    "endpoint_matching": {
      "status": "PASS",
      "message": "OK"
    },
    "cross_artifact_consistency": {
      "status": "PASS",
      "message": "OK"
    },
    "code_generated": {
      "status": "PASS",
      "message": "OK"
    },
    "deploy_generated": {
      "status": "PASS",
      "message": "OK"
    },
    "generation_consistency": {
      "status": "PASS",
      "message": "OK"
    },
    "runtime_compose": {
      "status": "PASS",
      "message": "OK"
    }
  },
  "metrics": {
    "num_components": 8,
    "num_entities": 8,
    "num_links": 9,
    "num_placements": 8,
    "num_layers": 3,
    "total_duration_ms": 94161,
    "total_attempts": 7,
    "attempts_by_stage": {
      "inputs": 1,
      "plan": 1,
      "ir": 1,
      "bindings": 2,
      "codegen": 1,
      "deploy": 1
    }
  },
  "overall_status": "PASS",
  "stages_passed": [
    "plan",
    "ir",
    "bindings",
    "codegen",
    "deploy",
    "eval"
  ],
  "rules_version": {
    "ir_rules_hash": "4ac6af8005e0d2c30d37bd9c621b14d957fbb46d0e2cd23d2e6633466e91d3d1",
    "bindings_rules_hash": "507a7f7bce8a858b23fb73c5ee5a3c013b50440700cc38e29c10c36123533724",
    "ir_required_fields": 7,
    "ir_forbidden_keywords": 4,
    "bindings_required_fields": 4,
    "bindings_forbidden_keywords": 4
  },
  "bindings_hash": "148dc5af947335b8283a13fc8f1612675a14e0216ab90ab7d23274244d456c24",
  "catalog_hashes": {
    "components_index_hash": "ba26c264fb48b9445d957bac399bb436826407143176f3fb0fad1dffd876fe78",
    "endpoint_types_hash": "5f566bd637fe54bc64c37b48c279b10e38490d8ce2a4b152cb5cfb68594be6e2"
  },
  "validators": {
    "user_problem_schema": {
      "pass": true,
      "failures": [],
      "warnings": [
        "UserProblem soft-missing fields: id, title, target"
      ],
      "metrics": {}
    },
    "device_info_schema": {
      "pass": true,
      "failures": [],
      "warnings": [],
      "metrics": {}
    },
    "device_info_catalog": {
      "pass": true,
      "failures": [],
      "warnings": [],
      "metrics": {}
    },
    "plan_schema": {
      "pass": true,
      "failures": [],
      "warnings": [],
      "metrics": {}
    },
    "ir_schema": {
      "pass": true,
      "failures": [],
      "warnings": [],
      "metrics": {}
    },
    "ir_boundary": {
      "pass": true,
      "failures": [],
      "warnings": [],
      "metrics": {}
    },
    "ir_component_catalog": {
      "pass": true,
      "failures": [],
      "warnings": [
        "component door_sensor_main has no explicit ports; skipping port validation",
        "component motion_sensor_living has no explicit ports; skipping port validation",
        "component smart_light_living has no explicit ports; skipping port validation",
        "component edge_gateway_ha has no explicit ports; skipping port validation",
        "component cloud_automation_service has no explicit ports; skipping port validation",
        "component cloud_storage_service has no explicit ports; skipping port validation",
        "component system_scheduler has no explicit ports; skipping port validation",
        "component security_controller has no explicit ports; skipping port validation",
        "link door_state_to_edge missing explicit ports; skipping port validation",
        "link motion_state_to_edge missing explicit ports; skipping port validation",
        "link edge_to_light_control_home missing explicit ports; skipping port validation",
        "link edge_to_cloud_events missing explicit ports; skipping port validation",
        "link edge_to_cloud_storage missing explicit ports; skipping port validation",
        "link scheduler_to_edge missing explicit ports; skipping port validation",
        "link edge_to_security_controller missing explicit ports; skipping port validation",
        "link security_to_notifier missing explicit ports; skipping port validation",
        "link cloud_query_to_storage missing explicit ports; skipping port validation"
      ],
      "metrics": {}
    },
    "ir_interface": {
      "pass": true,
      "failures": [],
      "warnings": [
        "component door_sensor_main has no explicit ports; skipping port validation",
        "component motion_sensor_living has no explicit ports; skipping port validation",
        "component smart_light_living has no explicit ports; skipping port validation",
        "component edge_gateway_ha has no explicit ports; skipping port validation",
        "component cloud_automation_service has no explicit ports; skipping port validation",
        "component cloud_storage_service has no explicit ports; skipping port validation",
        "component system_scheduler has no explicit ports; skipping port validation",
        "component security_controller has no explicit ports; skipping port validation",
        "link door_state_to_edge missing explicit ports; skipping port validation",
        "link motion_state_to_edge missing explicit ports; skipping port validation",
        "link edge_to_light_control_home missing explicit ports; skipping port validation",
        "link edge_to_cloud_events missing explicit ports; skipping port validation",
        "link edge_to_cloud_storage missing explicit ports; skipping port validation",
        "link scheduler_to_edge missing explicit ports; skipping port validation",
        "link edge_to_security_controller missing explicit ports; skipping port validation",
        "link security_to_notifier missing explicit ports; skipping port validation",
        "link cloud_query_to_storage missing explicit ports; skipping port validation"
      ],
      "metrics": {}
    },
    "bindings_schema": {
      "pass": true,
      "failures": [],
      "warnings": [],
      "metrics": {}
    },
    "coverage": {
      "pass": true,
      "failures": [],
      "warnings": [],
      "metrics": {
        "coverage_ratio": 1.0
      }
    },
    "endpoint_legality": {
      "pass": true,
      "failures": [],
      "warnings": [],
      "metrics": {
        "referenced": 9,
        "invalid": 0
      }
    },
    "endpoint_matching": {
      "pass": true,
      "failures": [],
      "warnings": [
        "link door_state_to_edge: endpoint ha://local type 'ha_state' uncommon as source",
        "link motion_state_to_edge: endpoint ha://local type 'ha_state' uncommon as source",
        "link edge_to_light_control_home: endpoint http://<SECRET_HA_HOST>:8123/api/services/light/turn_on type 'ha_service' uncommon as sink"
      ],
      "metrics": {}
    },
    "cross_artifact_consistency": {
      "pass": true,
      "failures": [],
      "warnings": [],
      "metrics": {}
    },
    "code_generated": {
      "pass": true,
      "failures": [],
      "warnings": [],
      "metrics": {}
    },
    "deploy_generated": {
      "pass": true,
      "failures": [],
      "warnings": [],
      "metrics": {}
    },
    "generation_consistency": {
      "pass": true,
      "failures": [],
      "warnings": [],
      "metrics": {}
    },
    "runtime_compose": {
      "pass": true,
      "failures": [],
      "warnings": [
        "Runtime check disabled"
      ],
      "metrics": {}
    }
  },
  "failures_flat": [],
  "pipeline": {
    "stages": {
      "inputs": {
        "pass": true,
        "duration_ms": 4,
        "attempts": 1
      },
      "plan": {
        "pass": true,
        "duration_ms": 9,
        "attempts": 1
      },
      "ir": {
        "pass": true,
        "duration_ms": 28853,
        "attempts": 1
      },
      "bindings": {
        "pass": true,
        "duration_ms": 65290,
        "attempts": 2
      },
      "codegen": {
        "pass": true,
        "duration_ms": 5,
        "attempts": 1
      },
      "deploy": {
        "pass": true,
        "duration_ms": 0,
        "attempts": 1
      },
      "eval": {
        "pass": true,
        "duration_ms": 23,
        "attempts": 1
      }
    },
    "config": {
      "provider": "deepseek",
      "model": "deepseek-chat",
      "temperature": 0.0,
      "max_tokens": null,
      "cache_enabled": false,
      "prompt_tier": "P0",
      "seed": 0,
      "enable_repair": true,
      "enable_catalog": true,
      "runtime_check": false,
      "cache_dir": ".cache/llm",
      "run_id": "run=20251230_193716_ec5e06",
      "output_dir": ".\\outputs_matrix\\DEMO-SMARTHOME\\deepseek_deepseek-chat\\P0\\repair\\temp0\\DEMO-SMARTHOME\\run=20251230_193716_ec5e06"
    }
  },
  "llm": {
    "provider": "deepseek",
    "model": "deepseek-chat",
    "temperature": 0.0,
    "cache_dir": ".cache/llm",
    "cache_enabled": false,
    "calls_total": 3,
    "calls_by_stage": {
      "generate_ir": 1,
      "generate_bindings": 1,
      "repair_bindings": 1
    },
    "cache_hits": 0,
    "cache_misses": 3,
    "usage_tokens_total": 11943,
    "prompt_template_hashes": {
      "ir_agent": "3b139c640d31d720bf2f7bb0d8b90fdd86a204c2e47586907d82349103f1816a",
      "binding_agent": "eb7bf22c71118c6197aff798182e3fdd479aaf2db13a51eb5ddf4cbf73933e65",
      "repair_agent": "2240406411b902e7b35b1f40c8961e4e26dab8b1431a4635a90e00f32f131627"
    },
    "rules_hash": "0efd038d1492aea276cbeabe81f659e0ba9364816b7b4002abf5953ace5c2cf7",
    "schema_hashes": {
      "plan_schema": "8d8399a603d1b200692b2f75170ce1bbf742b5051503966cfee3aae1fcedcd9c",
      "ir_schema": "d1b20ea900cec23d6966c056a65ba93f30671c40bfe3737fa7fdaaa48d330fbb",
      "bindings_schema": "16e635d1178c71dabaf7ed996785e535b597198dbc2545cfa0372db633c0a640"
    },
    "raw_paths": {
      "generate_ir": [
        "outputs_matrix\\DEMO-SMARTHOME\\deepseek_deepseek-chat\\P0\\repair\\temp0\\DEMO-SMARTHOME\\run=20251230_193716_ec5e06\\DEMO-SMARTHOME\\llm_raw\\generate_ir_attempt1.txt"
      ],
      "generate_bindings": [
        "outputs_matrix\\DEMO-SMARTHOME\\deepseek_deepseek-chat\\P0\\repair\\temp0\\DEMO-SMARTHOME\\run=20251230_193716_ec5e06\\DEMO-SMARTHOME\\llm_raw\\generate_bindings_attempt1.txt"
      ],
      "repair_bindings": [
        "outputs_matrix\\DEMO-SMARTHOME\\deepseek_deepseek-chat\\P0\\repair\\temp0\\DEMO-SMARTHOME\\run=20251230_193716_ec5e06\\DEMO-SMARTHOME\\llm_raw\\repair_bindings_attempt2.txt"
      ]
    }
  },
  "generated_manifest_present": true,
  "generation_consistency_pass": true,
  "input_validation": [
    "UserProblem warning: UserProblem soft-missing fields: id, title, target"
  ]
}