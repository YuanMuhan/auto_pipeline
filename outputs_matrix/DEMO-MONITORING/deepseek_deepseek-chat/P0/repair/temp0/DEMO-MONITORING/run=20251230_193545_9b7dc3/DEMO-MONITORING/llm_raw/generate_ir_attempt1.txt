components:
  - id: temp_sensor_01
    type: TemperatureSensor
    capabilities:
      - sense
      - collect
    metadata:
      layer: device
      data_type: temperature_reading
  - id: edge_gateway_01
    type: processor
    capabilities:
      - filter
      - aggregate
      - process
    metadata:
      layer: edge
  - id: cloud_server_01
    type: DataStore
    capabilities:
      - store
      - analyze
      - alert
    metadata:
      layer: cloud
  - id: alert_notifier
    type: Notifier
    capabilities:
      - notify
    metadata:
      purpose: alert_dissemination
  - id: monitoring_controller
    type: RuleEngine
    capabilities:
      - decide
      - monitor
    metadata:
      logic_entity: rule_engine

links:
  - id: sensor_to_edge
    from: temp_sensor_01
    to: edge_gateway_01
    data_type: sensor_reading
    frequency: real-time
    contract:
      schema_type: temperature_object
      properties:
        temperature: number
        ts: string
  - id: edge_to_cloud
    from: edge_gateway_01
    to: cloud_server_01
    data_type: aggregated_data
    frequency: periodic
    contract:
      schema_type: aggregated_temperature_object
  - id: cloud_to_notifier
    from: cloud_server_01
    to: alert_notifier
    data_type: alert_event
    frequency: on-demand
    contract:
      schema_type: alert_object
  - id: controller_to_edge
    from: monitoring_controller
    to: edge_gateway_01
    data_type: control_command
    frequency: on-demand
  - id: edge_to_controller
    from: edge_gateway_01
    to: monitoring_controller
    data_type: processed_data
    frequency: periodic

logic:
  alert_condition: temperature_threshold_exceeded
  aggregation_policy: time_window_average
  monitoring_mode: real_time

metadata:
  description: Smart home temperature monitoring system with cloud analytics
  version: "1.0"
  case_id: DEMO-MONITORING