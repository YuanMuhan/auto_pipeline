placements:
- component_id: door_sensor_main
  layer: device
  device_ref: door_sensor_main
- component_id: motion_sensor_living
  layer: device
  device_ref: motion_sensor_living
- component_id: smart_light_living
  layer: device
  device_ref: smart_light_living
- component_id: edge_gateway_ha
  layer: edge
  device_ref: edge_gateway_ha
- component_id: cloud_automation_service
  layer: cloud
  device_ref: cloud_automation_service
- component_id: cloud_storage_service
  layer: cloud
  device_ref: cloud_storage_service
transports:
- link_id: link_door_sensor_to_gateway
  protocol: MQTT
  qos: at_least_once
- link_id: link_motion_sensor_to_gateway
  protocol: MQTT
  qos: at_least_once
- link_id: link_gateway_to_light
  protocol: MQTT
  qos: at_least_once
- link_id: link_gateway_to_cloud_service
  protocol: MQTT
  qos: best_effort
- link_id: link_cloud_service_to_storage
  protocol: MQTT
  qos: best_effort
endpoints:
- link_id: link_door_sensor_to_gateway
  from_endpoint: ha://local
  to_endpoint: mqtt://ha_broker/homeassistant/commands
- link_id: link_motion_sensor_to_gateway
  from_endpoint: ha://local
  to_endpoint: mqtt://ha_broker/homeassistant/commands
- link_id: link_gateway_to_light
  from_endpoint: mqtt://ha_broker/homeassistant/events/#
  to_endpoint: mqtt://ha_broker/homeassistant/services/light/turn_on
- link_id: link_gateway_to_cloud_service
  from_endpoint: mqtt://ha_broker/homeassistant/events/#
  to_endpoint: mqtt://ha_broker/homeassistant/events
- link_id: link_cloud_service_to_storage
  from_endpoint: mqtt://ha_broker/homeassistant/events
  to_endpoint: mqtt://ha_broker/homeassistant/storage
component_bindings:
- component_id: door_sensor_main
  binding: link_door_sensor_to_gateway
- component_id: motion_sensor_living
  binding: link_motion_sensor_to_gateway
- component_id: smart_light_living
  binding: link_gateway_to_light
- component_id: edge_gateway_ha
  binding: link_gateway_to_cloud_service
- component_id: cloud_automation_service
  binding: link_gateway_to_cloud_service
- component_id: cloud_storage_service
  binding: link_cloud_service_to_storage
deployment:
  orchestrator: docker-compose
  config: {}
app_name: smart_home_security_automation
version: 1.0