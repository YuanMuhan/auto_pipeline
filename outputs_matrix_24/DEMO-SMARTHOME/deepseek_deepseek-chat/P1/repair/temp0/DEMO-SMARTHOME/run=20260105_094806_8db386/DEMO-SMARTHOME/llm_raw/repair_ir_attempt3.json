{
  "app_name": "smart_home_security_automation",
  "version": "1.0",
  "components": [
    {
      "id": "door_sensor_main",
      "type": "binary_sensor",
      "capabilities": [
        "detect_open_close",
        "sense"
      ]
    },
    {
      "id": "motion_sensor_living",
      "type": "binary_sensor",
      "capabilities": [
        "detect_motion",
        "sense"
      ]
    },
    {
      "id": "smart_light_living",
      "type": "light",
      "capabilities": [
        "actuate",
        "turn_on_off"
      ]
    },
    {
      "id": "edge_gateway_ha",
      "type": "controller",
      "capabilities": [
        "collect",
        "filter",
        "decide",
        "aggregate",
        "state_management"
      ]
    },
    {
      "id": "cloud_automation_service",
      "type": "automation",
      "capabilities": [
        "analyze",
        "decide",
        "notify",
        "rule_engine"
      ]
    },
    {
      "id": "cloud_storage_service",
      "type": "storage",
      "capabilities": [
        "store",
        "query",
        "aggregate"
      ]
    }
  ],
  "links": [
    {
      "id": "door_sensor_to_edge",
      "from": "door_sensor_main",
      "to": "edge_gateway_ha",
      "data_type": "sensor_reading",
      "contract": {
        "type": "object",
        "description": "Door contact state change event"
      },
      "frequency": "real-time"
    },
    {
      "id": "motion_sensor_to_edge",
      "from": "motion_sensor_living",
      "to": "edge_gateway_ha",
      "data_type": "sensor_reading",
      "contract": {
        "type": "object",
        "description": "Motion detection event"
      },
      "frequency": "real-time"
    },
    {
      "id": "edge_to_light_control",
      "from": "edge_gateway_ha",
      "to": "smart_light_living",
      "data_type": "command",
      "contract": {
        "type": "object",
        "description": "Light control command (on/off)"
      },
      "frequency": "on-demand"
    },
    {
      "id": "edge_to_cloud_events",
      "from": "edge_gateway_ha",
      "to": "cloud_automation_service",
      "data_type": "event",
      "contract": {
        "type": "object",
        "description": "Aggregated security/automation events"
      },
      "frequency": "real-time"
    },
    {
      "id": "cloud_automation_to_storage",
      "from": "cloud_automation_service",
      "to": "cloud_storage_service",
      "data_type": "aggregated_data",
      "contract": {
        "type": "object",
        "description": "Processed event data for historical records"
      },
      "frequency": "periodic"
    },
    {
      "id": "cloud_automation_to_notify",
      "from": "cloud_automation_service",
      "to": "cloud_automation_service",
      "data_type": "notification",
      "contract": {
        "type": "object",
        "description": "Alert or fault notification payload"
      },
      "frequency": "on-demand"
    },
    {
      "id": "cloud_storage_query",
      "from": "cloud_storage_service",
      "to": "cloud_storage_service",
      "data_type": "query_result",
      "contract": {
        "type": "object",
        "description": "System status and historical record query results"
      },
      "frequency": "on-demand"
    }
  ],
  "logic": {
    "modes": {
      "home_mode": {
        "description": "At-home mode for night-time lighting automation",
        "rules": [
          {
            "condition": "time_window 22:00-06:00 AND motion_detected",
            "action": "turn_on_light"
          },
          {
            "condition": "no_motion_for 5_minutes",
            "action": "turn_off_light"
          }
        ]
      },
      "away_mode": {
        "description": "Away mode for intrusion alerts",
        "rules": [
          {
            "condition": "door_state_changed",
            "action": "send_alert_notification"
          },
          {
            "condition": "motion_detected",
            "action": "send_high_priority_alert"
          }
        ]
      },
      "security_mode": {
        "description": "Security mode with dual-sensor verification",
        "rules": [
          {
            "condition": "door_opened AND motion_detected",
            "action": "trigger_alarm_and_record"
          },
          {
            "condition": "consecutive_anomalies",
            "action": "notify_emergency_contact"
          }
        ]
      }
    },
    "fault_handling": [
      {
        "condition": "sensor_offline",
        "action": "send_fault_notification"
      }
    ],
    "latency_requirements": {
      "sensor_event_response": "<500ms",
      "notification_push": "<2s"
    }
  },
  "metadata": {
    "description": "Logical IR for smart home security automation system integrating door and motion sensors with lighting and notification.",
    "category": "smart_home_automation",
    "priority": "high"
  },
  "description": "智能家居安防自动化系统：门磁和人体传感器联动夜间照明，异常情况实时通知，支持离家模式和安防策略",
  "schemas": [],
  "policies": []
}